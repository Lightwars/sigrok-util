-------------------------------------------------------------------------------
README
-------------------------------------------------------------------------------

This are the Dockerfiles used for building / cross-compiling sigrok, pulseview,
smuview, etc. and their dependencies inside docker containers.
Also used for CI/CD with github actions.


Status
------

Working.


Requirements
------------

- docker


Available Dockerfiles
---------------------

sigrok-mxe.Dockerfile:

  This image conatins everything that is needed to cross compile pulseview,
  smuview and sigrok-cli for Windows (>= XP).
  Available targets are i686-w64-mingw32.static.posix and
  x86_64-w64-mingw32.static.posix

  Environment variables:
   - BASE_DIR = "/opt"
   - MXE_DIR = "$BASE_DIR/mxe"

  Building:
   $ docker build --no-cache -f sigrok-mxe.Dockerfile -t sigrok-mxe:latest .

  Notes:
   - Add packeds for pulseview: cmake, scons, sdcc
   - Package doxygen is a dependency for libsigrok C++, but not available for
     MXE. The host doxygen is sufficient for building... Urgs!

sigrok-appimage-x86_64.Dockerfile:

  This image conatins everything that is needed for creating an x86_64 AppImage
  for pulseview, smuview and sigrok-cli.

  Environment variables:
   - BASE_DIR = "/opt"
   - APPIMAGE_EXTRACT_AND_RUN = 1
   - ARCH = "x86_64"

sigrok-appimage-x86_64-i386.Dockerfile:

  This image conatins everything that is needed for creating an i386 AppImage
  for pulseview, smuview and sigrok-cli by cross-compiling.

  Environment variables:
   - BASE_DIR = "/opt"
   - APPIMAGE_EXTRACT_AND_RUN = 1
   - ARCH = "i386"

sigrok-appimage-i386.Dockerfile:

  This image conatins everything that is needed for creating an i386 AppImage
  for pulseview, smuview and sigrok-cli.

  Environment variables:
   - BASE_DIR = "/opt"
   - APPIMAGE_EXTRACT_AND_RUN = 1
   - ARCH = "i386"
